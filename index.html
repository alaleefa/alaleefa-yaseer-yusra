<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯Ø¹ÙˆØ© ÙŠØ³Ø±Ù‰ Ùˆ ÙŠØ§Ø³Ø±</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ğŸŒŸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ 2: ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¥Ù„Ù‰ 'Amiri' */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Amiri', serif; }
body { background:#1e1f0d; color:#fff; overflow-x:hidden; }
/* Ø£Ø¨Ù‚ÙŠØª Ù…Ù†Ø¹ Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ± (img) Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø®Ø±Ù‰ */
img { -webkit-user-drag: none; user-drag: none; -webkit-touch-callout: none; pointer-events: auto; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none; }
#cover { position: fixed; top:0; left:0; width:100%; height:100%; background: url('cover-image.jpg') center center / cover no-repeat; display:flex; flex-direction: column; justify-content: center; align-items: center; z-index:1000; }
#cover img#enterBtn { width:150px; cursor:pointer; transition: transform 0.3s; }
#cover img#enterBtn:hover { transform: scale(1.05); }
#guestName { margin-top:20px; font-size:20px; color:#fff; }

/* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ */
#nav {  
    position: fixed;  
    bottom:10px;  
    left:50%;  
    transform:translateX(-50%);  
    display:none;  
    gap:5px;  
    z-index:1000;  
}
#nav img { width:25px; height:25px; cursor: pointer; border-radius: 8px; border: none; }
#pages { display:none; scroll-snap-type: y mandatory; }

/* Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØµÙØ­Ø§Øª */
.section {  
    min-height:100vh;  
    display:flex;  
    justify-content:center;  
    align-items:center;  
    flex-direction: column;  
    margin:0;  
    padding:0;  
    position:relative;  
    scroll-snap-align: start;  
    overflow: hidden;  
}

.page-video {  
    position: absolute;  
    top: 0;
    left: 0;
    width: 100%;  
    height: 100vh;  
    object-fit: cover;  
    z-index: -1;  
}

/* Ø§Ù„ØµÙØ­Ø© 5 */
#commentsSection {  
    width: 100%;  
    display: flex;  
    min-height: 100vh;  
    flex-direction: column;  
    justify-content: center;  
    align-items: center;  
    padding: 20px 0 80px 0;
    position: relative;
}

#page2 img.siteImage { margin-top:630px; max-width:50%; cursor:pointer; z-index: 10; }

#countdown { display:flex; gap:10px; justify-content:center; position:absolute; top:50%; left:50%; transform:translateX(-50%); z-index:10; }
.countBox { width:50px; height:50px; display:flex; flex-direction:column; justify-content:center; align-items:center; border-radius:6px; background: rgba(255,255,255,0.2); color:#9d8d69; font-size:16px; }
.countBox small { font-size:12px; }

/* Ø¥Ø·Ø§Ø± Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª */
#commentsWrapper {  
    width:90%;  
    max-width:500px;  
    display:flex;  
    flex-direction:column;  
    gap:8px;  
    padding:10px;  
    border-radius:10px;  
    background:#fff;  
    color:#000;  
    max-height: 50vh;  
    overflow-y:auto;  
    margin-top:150px;
    margin-bottom:150px;
}

#replyCount { color:#9d8d69; font-weight:bold; margin-bottom:5px; }
.formLabel { margin:5px 0 0; font-size:14px; color:#9d8d69; }

input, textarea { width:100%; padding:8px; border-radius:5px; border:1px solid #9d8d69; font-size:14px; margin-bottom:5px; }

textarea#cMsg { min-height:80px; resize:none; }

.statusContainer { display:flex; gap:10px; margin-bottom:5px; }
.statusOption { cursor:pointer; flex:1; text-align:center; padding:8px; border:1px solid #9d8d69; border-radius:5px; color:#9d8d69; font-weight:bold; }
.statusSelected { background-color:#9d8d69; color:#000; }

button { padding:6px 12px; border:none; border-radius:5px; cursor:pointer; background:#9d8d69; color:#000; font-weight:bold; margin-top:5px; font-size:14px; }
#prev, #next { width:80px; margin:10px 5px; font-size:14px; display:inline-block; }

.commentItem { border:1px solid #9d8d69; border-radius:8px; padding:8px; background:#fff; color:#000; font-size:14px; position:relative; }

.replyBtn { cursor:pointer; font-size:12px; padding:2px 6px; border-radius:4px; border:1px solid #9d8d69; font-weight:bold; }

.timeInfo { font-size:12px; color:#999; margin-top:3px; }

.replyForm { display:none; flex-direction:column; gap:5px; margin-top:5px; }

/* Footer */
#pageFooter {
    width: 100%;
    position: absolute;
    bottom: 50px;
    left: 0;
    padding: 5px 0;
    text-align: center;
    font-size: 15px;
    background: rgba(0, 0, 0, 0.4);
    color: #aaa;
    z-index: 100;
}

#pageFooter a {
    color: #9d8d69;
    text-decoration: none;
    font-weight: bold;
}
</style>
</head>

<body>

<div id="cover">
  <img id="enterBtn" src="enter.png" alt="Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„">
  <div id="guestName">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø¹Ùˆ/Ø©: Ø¹Ù„ÙŠØ§Ø¡</div>
</div>

<div id="nav">
  <img src="page1-icon.png" data-go="0">
  <img src="page2-icon.png" data-go="1">
  <img src="page3-icon.png" data-go="2">
  <img src="page4-icon.png" data-go="3">
  <img src="page5-icon.png" data-go="4">
</div>

<div id="pages">
    
  <div class="section">
    <video class="page-video" src="page1.mp4" muted loop autoplay playsinline></video>
    </div>

  <div class="section" id="page2">
    <video class="page-video" src="page2.mp4" muted loop autoplay playsinline></video>
    <img class="siteImage" src="site.png" alt="Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©">
  </div>

  <div class="section" id="page3">
    <video class="page-video" src="page3.mp4" muted loop autoplay playsinline></video>
    <div id="countdown">
      <div class="countBox"><span id="d">0</span><small>ÙŠÙˆÙ…</small></div>
      <div class="countBox"><span id="h">0</span><small>Ø³Ø§Ø¹Ø©</small></div>
      <div class="countBox"><span id="m">0</span><small>Ø¯Ù‚ÙŠÙ‚Ø©</small></div>
      <div class="countBox"><span id="s">0</span><small>Ø«Ø§Ù†ÙŠØ©</small></div>
    </div>
  </div>

  <div class="section">
    <video class="page-video" src="page4.mp4" muted loop autoplay playsinline></video>
    </div>

  <div class="section" id="commentsSection">
    <video class="page-video" src="page5.mp4" muted loop autoplay playsinline></video>
    
    <div id="commentsWrapper">
      <div id="replyCount">Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø¯ÙˆØ¯: 0</div>
      <div class="formLabel">Ø§Ù„Ø§Ø³Ù…</div>
      <input type="text" id="cName" placeholder="Ù…Ø«Ø§Ù„: Ù†ÙˆØ±Ø©">
      <div class="formLabel">Ø§Ù„Ø­Ø§Ù„Ø©</div>
      <div class="statusContainer">
        <div class="statusOption" data-status="ÙŠØ¹ØªØ°Ø±">ÙŠØ¹ØªØ°Ø±</div>
        <div class="statusOption" data-status="Ø­Ø§Ø¶Ø±">Ø­Ø§Ø¶Ø±</div>
      </div>
      <div class="formLabel">Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</div>
      <textarea id="cMsg" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ Ù„ÙƒÙ…Ø§â€¦"></textarea>
      <button id="sendComment">Ø¥Ø±Ø³Ø§Ù„</button>
      <div id="commentsList"></div>
      <div style="text-align:center;"><button id="prev">Ù‚Ø¨Ù„</button><button id="next">Ø¨Ø¹Ø¯</button></div>
    </div>
    
    <div id="pageFooter">
        Created with love by 
        <a href="https://www.instagram.com/alaleefa_?igsh=MW45Z21oM2x0YndjcQ==" target="_blank">@alaleefa_</a> / 
        <a href="https://api.whatsapp.com/send/?phone=%2B6281287575722&text&type=phone_number&app_absent=0&wame_ctl=1">
            081287575722
        </a>
    </div>
    
  </div>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>

// ğŸŸ¢ Ù…Ø³Ø­ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ â€” Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
localStorage.removeItem('comments');

// Ù…Ù†Ø¹ Ø§Ù„Ø­ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±
document.querySelectorAll('img').forEach(img=>{ img.oncontextmenu=(e)=>{ e.preventDefault(); }; });

// Ù‚Ø±Ø§Ø¡Ø© Ø§Ø³Ù… Ø§Ù„Ø¶ÙŠÙ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
const urlParams = new URLSearchParams(window.location.search);
const guestName = urlParams.get('guest') || 'Ø¹Ù„ÙŠØ§Ø¡';
document.getElementById('guestName').innerText = `Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø¹Ùˆ/Ø©: ${guestName}`;

let enterBtn=document.getElementById("enterBtn"), pages=document.getElementById("pages"), cover=document.getElementById("cover"), nav=document.getElementById("nav"), music=document.getElementById("music");

enterBtn.onclick=()=>{
  cover.style.display="none";
  pages.style.display="block";
  nav.style.display="flex";
  music.play();
  
  document.querySelectorAll('.page-video').forEach(video => {
    video.play().catch(error => {});
  });

  let countdownDiv=document.getElementById('countdown');
  let targetDate=new Date("2026-09-07T00:00:00").getTime();
  setInterval(()=>{
    let now=Date.now(), diff=targetDate-now;
    if(diff<0) diff=0;
    let d=Math.floor(diff/86400000), h=Math.floor((diff%86400000)/3600000), m=Math.floor((diff%3600000)/60000), s=Math.floor((diff%60000)/1000);
    countdownDiv.querySelector('#d').innerText=d;
    countdownDiv.querySelector('#h').innerText=h;
    countdownDiv.querySelector('#m').innerText=m;
    countdownDiv.querySelector('#s').innerText=s;
  },1000);
};

// Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
document.querySelectorAll('#nav img').forEach(btn=>{ 
    btn.onclick=()=>{ 
        document.querySelectorAll('.section')[btn.dataset.go].scrollIntoView({behavior:'smooth'}); 
    }; 
});

// Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹
document.querySelectorAll('.siteImage').forEach(img => {
    img.onclick = () => { window.open('https://maps.app.goo.gl/fipYv9RUQYJmwTDq6','_blank'); };
});

// Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª
let statusSelected="";

document.querySelectorAll('.statusOption').forEach(op=>{
  op.onclick=()=>{
    document.querySelectorAll('.statusOption').forEach(o=>o.classList.remove('statusSelected'));
    op.classList.add('statusSelected');
    statusSelected=op.dataset.status;
  };
});

// Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª
let comments = JSON.parse(localStorage.getItem('comments') || '[]'),
    pageIndex = 0;

function renderComments(){
  let list=document.getElementById('commentsList');
  let replyCount=document.getElementById('replyCount');
  list.innerHTML="";
  replyCount.innerText=`Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø¯ÙˆØ¯: ${comments.length}`;
  let start=pageIndex*5;
  let selected=comments.slice(start,start+5);

  selected.forEach((c,i)=>{
    let div=document.createElement('div');
    div.className='commentItem';
    div.innerHTML=`
      <b>${c.name}</b> (${c.status})<br>${c.msg}<br>
      <span class="timeInfo">${c.time}</span>
      <div style="display:flex; justify-content:space-between; margin-top:5px;">
        <button class='replyBtn'>Ø±Ø¯</button>
      </div>
      <div class='replyForm'>
        <input type='text' class='replyName' placeholder='Ù…Ø«Ø§Ù„: Ù†ÙˆØ±Ø©'>
        <textarea class='replyMsg' placeholder='Ù…Ø«Ø§Ù„: Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ Ù„ÙƒÙ…Ø§â€¦'></textarea>
        <button class='sendReply'>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯</button>
      </div>
      <div class='replies'></div>`;

    list.appendChild(div);

    if(c.replies){
      let replyContainer=div.querySelector('.replies');
      c.replies.forEach(r=>{
        let newReply=document.createElement('div');
        newReply.innerHTML=`<b>${r.name}</b>: ${r.msg} <span class="timeInfo">${r.time}</span>`;
        newReply.style.borderTop='1px solid #9d8d69';
        newReply.style.paddingTop='3px';
        replyContainer.appendChild(newReply);
      });
    }

    div.querySelector('.replyBtn').onclick=()=>{ 
      div.querySelector('.replyForm').style.display='flex'; 
    };

    div.querySelector('.sendReply').onclick=()=>{
      let name=div.querySelector('.replyName').value.trim();
      let msg=div.querySelector('.replyMsg').value.trim();
      if(!name || !msg){ alert('ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆÙ†Øµ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯'); return; }

      let time=new Date().toLocaleString('ar-SA',{hour:'2-digit',minute:'2-digit',hour12:false,year:'numeric',month:'2-digit',day:'2-digit'});
      let replyContainer=div.querySelector('.replies');
      let newReply={name,msg,time};

      let rDiv=document.createElement('div');
      rDiv.innerHTML=`<b>${name}</b>: ${msg} <span class="timeInfo">${time}</span>`;
      rDiv.style.borderTop='1px solid #9d8d69';
      rDiv.style.paddingTop='3px';
      replyContainer.appendChild(rDiv);

      if(!c.replies) c.replies=[];
      c.replies.push(newReply);
      localStorage.setItem('comments',JSON.stringify(comments));

      div.querySelector('.replyName').value='';
      div.querySelector('.replyMsg').value='';
      div.querySelector('.replyForm').style.display='none';
    };
  });
}

renderComments();

document.getElementById('sendComment').onclick=()=>{
  let name=document.getElementById('cName').value.trim();
  let msg=document.getElementById('cMsg').value.trim();
  if(!name || !statusSelected){ alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø­Ø§Ù„Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚'); return; }

  let time=new Date().toLocaleString('ar-SA',{hour:'2-digit',minute:'2-digit',hour12:false,year:'numeric',month:'2-digit',day:'2-digit'});
  comments.unshift({name,msg,status:statusSelected,replies:[], time:time});
  localStorage.setItem('comments',JSON.stringify(comments));

  document.getElementById('cName').value='';
  document.getElementById('cMsg').value='';
  statusSelected='';
  document.querySelectorAll('.statusOption').forEach(o=>o.classList.remove('statusSelected'));
  
  renderComments();
};

document.getElementById('prev').onclick=()=>{ 
    if(pageIndex>0){ 
        pageIndex--; 
        renderComments(); 
    } 
};

document.getElementById('next').onclick=()=>{ 
    if((pageIndex+1)*5<comments.length){ 
        pageIndex++; 
        renderComments(); 
    } 
};

</script>

</body>
</html>